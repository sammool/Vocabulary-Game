<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í† ìŠ¤ ê²Œì„ - SAIC ì°¾ê¸°</title>
    <style>
        /* í™”ì´íŠ¸ & ë¸”ë£¨ í…Œë§ˆ ì ìš© */
        body { 
            font-family: 'Pretendard', -apple-system, sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0; 
            background: #f5f7fa; 
            color: #333; 
            overflow: hidden; 
        }

        .card { 
            background: white; 
            padding: 30px 20px; 
            border-radius: 30px; 
            text-align: center; 
            width: 350px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.05); 
        }

        #level-info { 
            color: #1a73e8; 
            font-weight: bold; 
            font-size: 1.3rem; 
            margin-bottom: 10px; 
        }

        /* ë¸”ë£¨ í…Œë§ˆì˜ íƒ€ì´ë¨¸ ë°” */
        #timer-container { 
            width: 100%; 
            background: #e8f0fe; 
            height: 100%; 
            height: 8px; 
            border-radius: 10px; 
            margin: 20px 0; 
            overflow: hidden; 
        }

        #timer-bar { 
            width: 100%; 
            height: 100%; 
            background: #1a73e8; 
            transition: linear; 
        }

        /* 4x4 ê·¸ë¦¬ë“œ ì„¤ì • */
        .grid { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 10px; 
            margin-top: 25px; 
        }

        .grid button { 
            aspect-ratio: 1; 
            border: 2px solid #e8f0fe; 
            border-radius: 12px; 
            background: #ffffff; 
            color: #1a73e8; 
            font-size: 0.9rem; 
            font-weight: bold; 
            cursor: pointer; 
            padding: 0; 
            transition: all 0.2s;
            box-shadow: 0 2px 8px rgba(26, 115, 232, 0.05);
        }

        .grid button:active { 
            background: #f1f6ff; 
            transform: scale(0.95); 
        }

        .instruction {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>

<div class="card">
    <div id="level-info">Level 1</div>
    <div id="timer-container"><div id="timer-bar"></div></div>
    <div class="instruction">ë‹¤ë¥¸ ê¸€ìë¥¼ í•˜ë‚˜ ì°¾ìœ¼ì„¸ìš”!</div>
    <div class="grid" id="game-grid"></div>
</div>

<script>
    // ëª¨ë“  ë‹¨ê³„ SALC vs SAIC ê³ ì •, ì‹œê°„ë§Œ ë‹¨ì¶•
    const stages = [
        { normal: "SALC", diff: "SAIC", time: 5000 }, // 1ë‹¨ê³„: 5ì´ˆ
        { normal: "SALC", diff: "SAIC", time: 3500 }, // 2ë‹¨ê³„: 3.5ì´ˆ
        { normal: "SALC", diff: "SAIC", time: 2500 }, // 3ë‹¨ê³„: 2.5ì´ˆ
        { normal: "SALC", diff: "SAIC", time: 1800 }, // 4ë‹¨ê³„: 1.8ì´ˆ
        { normal: "SALC", diff: "SAIC", time: 1200 }  // 5ë‹¨ê³„: 1.2ì´ˆ
    ];

    let currentLevel = 0;
    let timer;

    function initGame() {
        if (currentLevel >= stages.length) {
            alert("ğŸŠ ë¯¸ì…˜ ì„±ê³µ! ë‹¹ì‹ ì˜ ì§‘ì¤‘ë ¥ì€ ìµœê³ ì…ë‹ˆë‹¤.");
            window.location.href = 'index.html';
            return;
        }

        const stage = stages[currentLevel];
        document.getElementById('level-info').innerText = `Level ${currentLevel + 1}`;
        const grid = document.getElementById('game-grid');
        grid.innerHTML = "";

        // 4x4 (16ê°œ) ì¤‘ ëœë¤ ìœ„ì¹˜ ì„ ì •
        const diffIndex = Math.floor(Math.random() * 16);

        for (let i = 0; i < 16; i++) {
            const btn = document.createElement('button');
            btn.innerText = (i === diffIndex) ? stage.diff : stage.normal;
            btn.onclick = () => {
                if(i === diffIndex) {
                    clearTimeout(timer);
                    currentLevel++;
                    initGame();
                } else {
                    alert("âŒ í‹€ë ¸ìŠµë‹ˆë‹¤! ë‹¤ì‹œ ë„ì „í•˜ì„¸ìš”.");
                    location.reload();
                }
            };
            grid.appendChild(btn);
        }
        startTimer(stage.time);
    }

    function startTimer(duration) {
        const bar = document.getElementById('timer-bar');
        bar.style.transition = 'none';
        bar.style.width = '100%';
        bar.offsetHeight; // Reflow ë°œìƒ
        bar.style.transition = `width ${duration}ms linear`;
        bar.style.width = '0%';

        clearTimeout(timer);
        timer = setTimeout(() => {
            alert("â° ì‹œê°„ ì´ˆê³¼! ë‹¤ì‹œ ë„ì „í•˜ì„¸ìš”.");
            location.reload();
        }, duration);
    }

    initGame();
</script>

</body>
</html>