<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒ€í•™ ìˆ˜ì¤€ ì˜ë‹¨ì–´ ì±Œë¦°ì§€</title>
    <style>
        /* í™”ì´íŠ¸ & ë¸”ë£¨ í…Œë§ˆ ì ìš© */
        body { 
            font-family: 'Pretendard', -apple-system, sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0; 
            background: #f5f7fa; 
            color: #333; 
            overflow: hidden; 
        }

        .card { 
            background: white; 
            padding: 30px 25px; 
            border-radius: 30px; 
            text-align: center; 
            width: 360px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.05); 
        }

        #level { 
            color: #1a73e8; 
            font-weight: bold; 
            font-size: 1.1rem; 
            margin-bottom: 5px; 
        }

        /* í†µì¼ê°ì„ ìœ„í•œ ë¸”ë£¨ íƒ€ì´ë¨¸ ë°” */
        #timer-container { 
            width: 100%; 
            background: #e8f0fe; 
            height: 8px; 
            border-radius: 10px; 
            margin: 20px 0; 
            overflow: hidden; 
        }

        #timer-bar { 
            width: 100%; 
            height: 100%; 
            background: #1a73e8; 
            transition: linear; 
        }

        #word { 
            font-size: 2.2rem; 
            margin: 20px 0 30px 0; 
            letter-spacing: -0.5px; 
            font-weight: bold; 
            color: #1a73e8; 
        }

        .options button { 
            display: block; 
            width: 100%; 
            margin: 12px 0; 
            padding: 16px; 
            font-size: 1.1rem; 
            font-weight: 600;
            cursor: pointer; 
            background: #ffffff; 
            color: #1a73e8; 
            border: 2px solid #e8f0fe; 
            border-radius: 15px; 
            transition: all 0.2s ease; 
            outline: none; 
            box-shadow: 0 2px 8px rgba(26, 115, 232, 0.05);
        }

        .options button:hover {
            background: #f1f6ff;
            border-color: #1a73e8;
        }

        /* ë§ì•˜ì„ ë•Œ/í‹€ë ¸ì„ ë•Œ ìƒ‰ìƒ */
        .options button.correct { background-color: #4CAF50 !important; border-color: #4CAF50; color: white; }
        .options button.wrong { background-color: #F44336 !important; border-color: #F44336; color: white; }
        .options button:disabled { cursor: default; }

        .instruction {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

<div class="card" id="quiz-card">
    <div id="level">Level 1</div>
    <div id="timer-container"><div id="timer-bar"></div></div>
    <div class="instruction">ì˜¬ë°”ë¥¸ ëœ»ì„ ì„ íƒí•˜ì„¸ìš”</div>
    <div id="word">Ready?</div>
    <div class="options" id="options">
        <button onclick="startGame()">ê²Œì„ ì‹œì‘</button>
    </div>
</div>

<script>
    const wordPool = {
        1: [
            { w: "Benefit", o: ["ì´ìµ/í˜œíƒ", "ì†í•´", "ê²½ê³ "], a: 0 },
            { w: "Achieve", o: ["ì‹¤íŒ¨í•˜ë‹¤", "ë¬´ì‹œí•˜ë‹¤", "ì„±ì·¨í•˜ë‹¤"], a: 2 },
            { w: "Reveal", o: ["ë“œëŸ¬ë‚´ë‹¤", "ìˆ¨ê¸°ë‹¤", "ì¡°ì‘í•˜ë‹¤"], a: 0 },
            { w: "Acknowledge", o: ["ë¶€ì¸í•˜ë‹¤", "ì¸ì •í•˜ë‹¤", "ë¹„íŒí•˜ë‹¤"], a: 1 },
            { w: "Contribute", o: ["ê¸°ì—¬í•˜ë‹¤", "ì†Œë¹„í•˜ë‹¤", "ê´€ì°°í•˜ë‹¤"], a: 0 }
        ],
        2: [
            { w: "Fundamental", o: ["ê·¼ë³¸ì ì¸", "ì‚¬ì†Œí•œ", "ì™¸ë¶€ì˜"], a: 0 },
            { w: "Ambiguous", o: ["ëª…í™•í•œ", "ëª¨í˜¸í•œ", "ì •êµí•œ"], a: 1 },
            { w: "Objective", o: ["ì£¼ê´€ì ì¸", "ê°ê´€ì ì¸", "í¸íŒŒì ì¸"], a: 1 },
            { w: "Context", o: ["ë§¥ë½/ë°°ê²½", "ê²°ê³¼", "ë³¸ë¬¸"], a: 0 },
            { w: "Abstract", o: ["êµ¬ì²´ì ì¸", "ì‹¤ìš©ì ì¸", "ì¶”ìƒì ì¸"], a: 2 }
        ],
        3: [
            { w: "Significant", o: ["ë¯¸ë¯¸í•œ", "ì¤‘ìš”í•œ", "ì¼ì‹œì ì¸"], a: 1 },
            { w: "Perspective", o: ["ê´€ì /ì‹œê°", "ê²½í—˜", "í™˜ìƒ"], a: 0 },
            { w: "Contradict", o: ["ë™ì˜í•˜ë‹¤", "ì¦ëª…í•˜ë‹¤", "ëª¨ìˆœë˜ë‹¤"], a: 2 },
            { w: "Eliminate", o: ["ì¶”ê°€í•˜ë‹¤", "ì œê±°í•˜ë‹¤", "ìœ ì§€í•˜ë‹¤"], a: 1 },
            { w: "Accurate", o: ["ì •í™•í•œ", "ëª¨í˜¸í•œ", "ëŒ€ì¶©ì˜"], a: 0 }
        ],
        4: [
            { w: "Correlation", o: ["ìš°ì—°", "ìƒê´€ê´€ê³„", "ì¸ê³¼ê´€ê³„"], a: 1 },
            { w: "Comprehensive", o: ["í¬ê´„ì ì¸/ì¢…í•©ì ì¸", "ì´í•´í•  ìˆ˜ ì—†ëŠ”", "ê°„ë‹¨í•œ"], a: 0 },
            { w: "Inevitably", o: ["ë¶ˆí™•ì‹¤í•˜ê²Œ", "ìš°ì—°íˆ", "í•„ì—°ì ìœ¼ë¡œ"], a: 2 },
            { w: "Implicit", o: ["ëª…ì‹œì ì¸", "ë‚´ì¬ëœ/ì•”ì‹œëœ", "ë³µì¡í•œ"], a: 1 },
            { w: "Integration", o: ["í†µí•©/ìœµí•©", "ë¶„ì—´", "ì°¨ë³„"], a: 0 }
        ],
        5: [
            { w: "Paradigm", o: ["ì¸ì‹ì˜ í‹€/ì²´ê³„", "ì¼ì‹œì  ìœ í–‰", "ê°œì¸ì  ì·¨í–¥"], a: 0 },
            { w: "Pragmatic", o: ["ì´ë¡ ì ì¸", "ì‹¤ìš©ì ì¸", "ê°ì„±ì ì¸"], a: 1 },
            { w: "Resilience", o: ["íšŒë³µ íƒ„ë ¥ì„±/ë³µì›ë ¥", "ë¯¼ê°í•¨", "ê³ ì§‘"], a: 0 },
            { w: "Nuance", o: ["ëª…í™•í•œ ê²°ë¡ ", "ë¯¸ë¬˜í•œ ì°¨ì´", "ê°•í•œ ì••ë°•"], a: 1 },
            { w: "Altruism", o: ["ì´ê¸°ì£¼ì˜", "ì´íƒ€ì£¼ì˜", "ë‚™ì²œì£¼ì˜"], a: 1 }
        ]
    };

    let currentLevel = 1;
    let timer;
    let timeLeft = 5;
    let isChecking = false;

    function startGame() {
        currentLevel = 1;
        nextQuestion();
    }

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function nextQuestion() {
        if (currentLevel > 5) {
            alert("ğŸŠ ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì‹ ì€ ì˜ë‹¨ì–´ ë§ˆìŠ¤í„°ì…ë‹ˆë‹¤.");
            window.location.href = 'index.html';
            return;
        }

        isChecking = false;
        timeLeft = 5;
        document.getElementById('level').innerText = "Level " + currentLevel;

        const levelPool = wordPool[currentLevel];
        const randomQ = levelPool[Math.floor(Math.random() * levelPool.length)];

        document.getElementById('word').innerText = randomQ.w;
        
        let optionsList = randomQ.o.map((text, index) => {
            return { text: text, isCorrect: index === randomQ.a };
        });
        
        optionsList = shuffle(optionsList);

        const optionsDiv = document.getElementById('options');
        optionsDiv.innerHTML = "";

        optionsList.forEach((opt) => {
            const btn = document.createElement('button');
            btn.innerText = opt.text;
            btn.onclick = (e) => checkAnswer(opt.isCorrect, e.target);
            optionsDiv.appendChild(btn);
        });

        startTimer(4000); // 5ì´ˆ
    }

    function startTimer(duration) {
        const bar = document.getElementById('timer-bar');
        bar.style.transition = 'none';
        bar.style.width = '100%';
        bar.offsetHeight; 
        bar.style.transition = `width ${duration}ms linear`;
        bar.style.width = '0%';

        clearInterval(timer);
        let remaining = duration / 1000;
        timer = setInterval(() => {
            remaining--;
            if (remaining <= 0) {
                clearInterval(timer);
                alert("â° ì‹œê°„ ì´ˆê³¼! ë‹¤ì‹œ ë„ì „í•˜ì„¸ìš”.");
                location.reload();
            }
        }, 1000);
    }

    function checkAnswer(isCorrect, targetButton) {
        if (isChecking) return;
        isChecking = true;
        clearInterval(timer);

        const buttons = document.querySelectorAll('.options button');
        buttons.forEach(btn => btn.disabled = true);

        if (isCorrect) {
            targetButton.classList.add('correct');
            setTimeout(() => {
                currentLevel++;
                nextQuestion();
            }, 800);
        } else {
            targetButton.classList.add('wrong');
            setTimeout(() => {
                alert("âŒ í‹€ë ¸ìŠµë‹ˆë‹¤! 1ë‹¨ê³„ë¶€í„° ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤.");
                location.reload();
            }, 800);
        }
    }
</script>

</body>
</html>